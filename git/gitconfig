[user]
    name = Thiago Bellini Ribeiro
    email = thiago@bellini.dev

[fetch]
    prune = true

[core]
    editor = nvim
    excludesfile = ~/.gitignore
    attributesfile = ~/.gitattributes

[color]
    ui = always

[diff]
    noprefix = true
    colorMoved = default

[pull]
    ff = only

[push]
    autoSetupRemote = true

[gpg]
    format = ssh

[gpg "ssh"]
    defaultKeyCommand = ssh-add -L
    allowedSignersFile = ~/.ssh/allowed_signers

[commit]
    gpgsign = true

[init]
    defaultBranch = main

[rebase]
    autoStash = true
    autoSquash = true

[merge]
    conflictstyle = zdiff3

[rerere]
    enabled = true

[alias]
    a = add
    au = add -u
    ap = add -p
    aup = add -u -p
    co = checkout
    cob = checkout -B
    br = "!f(){\
      git for-each-ref --sort='-authordate' \
      --format='%(authordate)%09%(objectname:short)%09%(refname)' refs/heads | \
      sed -e 's-refs/heads/--'; \
    }; f"
    ci = commit
    cim = commit --amend
    r = "!f() { \
      if [ -n "$1" ]; then \
        git rebase -i "$1"; \
      elif git show-ref --verify --quiet refs/remotes/origin/main; then \
        git rebase -i origin/main; \
      elif git show-ref --verify --quiet refs/remotes/origin/master; then \
        git rebase -i origin/master; \
      else \
        echo "Neither origin/main nor origin/master exists"; \
      fi; \
    }; f"
    rc = rebase --continue
    st = status
    di = diff
    dis = diff --cached
    din = diff --color=never
    dins = diff --cached --color=never
    fuck = reset --soft HEAD@{1}
    fe = fetch --all
    rm-stale = "!f(){\
        git branch --color=never | grep -v "master" | grep -v "main" | grep -v ^* | xargs git branch -D;\
    }; f"
